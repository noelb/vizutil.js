---
layout: default
title: Split Bezier
---

<pre>
//The points you want to draw a curve through
let pnts = [ {x:0,y:0}, {x:23,y:-4}, ... ];

//Will return an array of points forming a path
let splinePnts = GeomUtil.cspline(pnts,.02);
</pre>


<div class="diagram"><!-- The SVG diagram will be appended here --></div>

<form onsubmit="refresh(); return false;">
    <li>
        <button>Randomize</button>
    </li>
</form>


<script>
var WIDTH = 500; //The size of the SVG canvas
var BORDER = 50; //Keep the points from being too close to the edges


//Create a set of random points
var pnts = [];
for (let i=0; i < 4; i++) {
    pnts.push( {
        x:(WIDTH-BORDER*2)*Math.random() + BORDER,
        y:(WIDTH-BORDER*2)*Math.random() + BORDER
    } );
}

var bezier = [{x:100,y:200},{x:100,y:100},{x:200,y:100},{x:200,y:200}];


//Create the spline
//var spline = GeomUtil.splitBezierXY(pnts,.02);

var mainSVG = null;

/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - */

function refresh() {
    //Remove what was there before
    if (mainSVG != null) mainSVG.parentElement.removeChild(mainSVG);


    //Create an SVG document
    mainSVG = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    mainSVG.setAttribute("width", WIDTH.toString());
    mainSVG.setAttribute("height", WIDTH.toString());
    document.getElementsByClassName("diagram")[0].appendChild(mainSVG);


    //Convert a spline to an SVG path
    var pathSVG = SvgUtil.curve(document, bezier);
    console.log(pathSVG);
    pathSVG.setAttribute("stroke", "black");
    pathSVG.setAttribute("stroke-width", ".5");
    pathSVG.setAttribute("opacity", ".2");
    pathSVG.setAttribute("fill", "none");
    mainSVG.appendChild(pathSVG);

    var editSVG = SvgUtil.editControls(document,bezier,pathSVG);
    mainSVG.appendChild(editSVG);

    //pathSVG.querySelector('[data-id=0]');
    //pathSVG.querySelector('[data-id=1]');
    //[data-point-id="7febe088-4eca-493b-8455-385b39ad30e3"]


}

    refresh();
</script>


</body>
</html>